<html>
<head>
  <title>D3 tutorial</title>
  <script src="http://d3js.org/d3.v3.min.js"></script>
</head>
<body>

  <script>
    // Loading external JSON data
    d3.json("data.json", function(data) {
        var canvas = d3.select("body")
                        .append("svg")
                        .attr("width", 500)
                        .attr("height", 500)
                        .append("g")
                        .attr("transform", "translate(30, 0)");

        canvas.selectAll("rect")
                .data(data)
                .enter()
                  .append("rect")
                  .attr("width", function(d) {return d.age * 10; })
                  .attr("height", 48)
                  .attr("y", function(d, i) { return i * 50; } )
                  .attr("fill","blue");

        canvas.selectAll("text")
                    .data(data)
                    .enter()
                        .append("text")
                        .attr("fill", "white")
                        .attr("x", 7)
                        .attr("y", function(d, i) { return i *50 + 24; })
                        .text(function(d) { return d.name; });

    } );



  </script>
</body>
</html>
